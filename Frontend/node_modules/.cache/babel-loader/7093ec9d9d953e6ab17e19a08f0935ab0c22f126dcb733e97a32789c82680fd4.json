{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { useDispatch, useSelector } from \"react-redux\";\n// import { AppState } from \"../../../Redux/store\";\n// import { VacationModel } from \"../../../Models/VacationModel\";\n// import { vacationActions } from \"../../../Redux/store\";\n// import { vacationsService } from \"../../../Services/VacationsService\";\n// import { VacationCards } from \"../VacationCards/VacationCards\";\n// import { Role } from \"../../../Models/enums\";\n// import \"./VacationList.css\";\n\n// export function VacationList(): JSX.Element {\n//   const [vacations, setVacations] = useState<VacationModel[]>([]);\n//   const [currentPage, setCurrentPage] = useState<number>(1);\n//   const itemsPerPage = 9;\n//   const dispatch = useDispatch();\n\n//   // Retrieve the token and roleId from Redux state\n//   const token = useSelector((state: AppState) => state.auth.token);\n//   const roleId = useSelector((state: AppState) => state.user.roleId); // Select roleId from state\n\n//   // Determine if the user is an admin based on roleId\n//   const isAdmin = roleId === Role.Admin;\n\n//   // Log isAdmin to verify if the role is being set correctly\n//   console.log(\"Is Admin:\", isAdmin);\n\n//   const userId = useSelector<AppState, number>((state) => state.user.id);\n\n//   useEffect(() => {\n//     if (!token) {\n//       console.warn(\"User is not logged in.\");\n//       return;\n//     }\n\n//     vacationsService\n//       .getAllVacationsByUserId(userId)\n//       .then((vacations) => {\n//         if (vacations.length > 0) {\n//           setVacations(vacations);\n//           const action = vacationActions.initVacations(vacations);\n//           dispatch(action);\n//         } else {\n//           console.warn(\"No vacations were fetched from the API.\");\n//         }\n//       })\n//       .catch((err) => {\n//         alert(err.message);\n//       });\n//   }, [token, dispatch, userId]);\n\n//   const indexOfLastItem = currentPage * itemsPerPage;\n//   const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n//   const currentVacations = vacations.slice(indexOfFirstItem, indexOfLastItem);\n\n//   const nextPage = () => {\n//     if (currentPage < Math.ceil(vacations.length / itemsPerPage)) {\n//       setCurrentPage(currentPage + 1);\n//     }\n//   };\n\n//   const prevPage = () => {\n//     if (currentPage > 1) {\n//       setCurrentPage(currentPage - 1);\n//     }\n//   };\n\n//   return (\n//     <div className=\"VacationList\">\n//       <div className=\"vacation-cards-container\">\n//         {currentVacations.length > 0 ? (\n//           currentVacations.map((vacation) => (\n//             <VacationCards\n//               key={vacation.id}\n//               vacation={vacation}\n//               isAdmin={isAdmin} // Pass isAdmin based on roleId\n//               onToggleLike={() => { }}\n//             />\n//           ))\n//         ) : (\n//           <p>No vacations available</p>\n//         )}\n//       </div>\n\n//       <div className=\"pagination\">\n//         <button onClick={prevPage} disabled={currentPage === 1}>\n//           Previous\n//         </button>\n//         <span>Page {currentPage}</span>\n//         <button\n//           onClick={nextPage}\n//           disabled={currentPage === Math.ceil(vacations.length / itemsPerPage)}\n//         >\n//           Next\n//         </button>\n//       </div>\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/USER/Downloads/02092024ProjectVacation/Frontend/src/Components/VacationArea/VacationList/VacationList.tsx"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\n// import { useDispatch, useSelector } from \"react-redux\";\n// import { AppState } from \"../../../Redux/store\";\n// import { VacationModel } from \"../../../Models/VacationModel\";\n// import { vacationActions } from \"../../../Redux/store\";\n// import { vacationsService } from \"../../../Services/VacationsService\";\n// import { VacationCards } from \"../VacationCards/VacationCards\";\n// import { Role } from \"../../../Models/enums\";\n// import \"./VacationList.css\";\n\n// export function VacationList(): JSX.Element {\n//   const [vacations, setVacations] = useState<VacationModel[]>([]);\n//   const [currentPage, setCurrentPage] = useState<number>(1);\n//   const itemsPerPage = 9;\n//   const dispatch = useDispatch();\n\n//   // Retrieve the token and roleId from Redux state\n//   const token = useSelector((state: AppState) => state.auth.token);\n//   const roleId = useSelector((state: AppState) => state.user.roleId); // Select roleId from state\n\n//   // Determine if the user is an admin based on roleId\n//   const isAdmin = roleId === Role.Admin;\n\n//   // Log isAdmin to verify if the role is being set correctly\n//   console.log(\"Is Admin:\", isAdmin);\n\n//   const userId = useSelector<AppState, number>((state) => state.user.id);\n\n//   useEffect(() => {\n//     if (!token) {\n//       console.warn(\"User is not logged in.\");\n//       return;\n//     }\n\n//     vacationsService\n//       .getAllVacationsByUserId(userId)\n//       .then((vacations) => {\n//         if (vacations.length > 0) {\n//           setVacations(vacations);\n//           const action = vacationActions.initVacations(vacations);\n//           dispatch(action);\n//         } else {\n//           console.warn(\"No vacations were fetched from the API.\");\n//         }\n//       })\n//       .catch((err) => {\n//         alert(err.message);\n//       });\n//   }, [token, dispatch, userId]);\n\n//   const indexOfLastItem = currentPage * itemsPerPage;\n//   const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n//   const currentVacations = vacations.slice(indexOfFirstItem, indexOfLastItem);\n\n//   const nextPage = () => {\n//     if (currentPage < Math.ceil(vacations.length / itemsPerPage)) {\n//       setCurrentPage(currentPage + 1);\n//     }\n//   };\n\n//   const prevPage = () => {\n//     if (currentPage > 1) {\n//       setCurrentPage(currentPage - 1);\n//     }\n//   };\n\n//   return (\n//     <div className=\"VacationList\">\n//       <div className=\"vacation-cards-container\">\n//         {currentVacations.length > 0 ? (\n//           currentVacations.map((vacation) => (\n//             <VacationCards\n//               key={vacation.id}\n//               vacation={vacation}\n//               isAdmin={isAdmin} // Pass isAdmin based on roleId\n//               onToggleLike={() => { }}\n//             />\n//           ))\n//         ) : (\n//           <p>No vacations available</p>\n//         )}\n//       </div>\n\n//       <div className=\"pagination\">\n//         <button onClick={prevPage} disabled={currentPage === 1}>\n//           Previous\n//         </button>\n//         <span>Page {currentPage}</span>\n//         <button\n//           onClick={nextPage}\n//           disabled={currentPage === Math.ceil(vacations.length / itemsPerPage)}\n//         >\n//           Next\n//         </button>\n//       </div>\n//     </div>\n//   );\n// }\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}