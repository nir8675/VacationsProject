{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { useDispatch } from \"react-redux\";\n// import { VacationModel } from \"../../../Models/VacationModel\";\n// import { vacationActions } from \"../../../Redux/store\";\n// import { vacationsService } from \"../../../Services/VacationsService\";\n// import { VacationCards } from \"../VacationCards/VacationCards\";\n// import \"./VacationList.css\";\n// import axios from \"axios\";\n\n// export function VacationList(): JSX.Element {\n//     const [vacations, setVacations] = useState<VacationModel[]>([]);\n//     const [currentPage, setCurrentPage] = useState<number>(1);\n//     const [itemsPerPage] = useState<number>(9);\n//     const dispatch = useDispatch();\n\n//     // Set token in the header for all axios requests\n//     useEffect(() => {\n//         const token = localStorage.getItem(\"token\"); // Get the token from local storage\n//         if (token) {\n//             axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`; // Set token in the headers\n//         }\n\n//         // Fetch vacations only if the token exists\n//         if (token) {\n//             vacationsService.getAllVacations()\n//                 .then(vacations => {\n//                     setVacations(vacations);\n//                     const action = vacationActions.initVacations(vacations);\n//                     dispatch(action);\n//                 })\n//                 .catch(err => alert(err.message));\n//         } else {\n//             alert(\"You are not logged in.\"); // Notify the user that they are not logged in\n//         }\n//     }, [dispatch]);\n\n//     const indexOfLastItem = currentPage * itemsPerPage;\n//     const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n//     const currentVacations = vacations.slice(indexOfFirstItem, indexOfLastItem);\n\n//     const nextPage = () => {\n//         if (currentPage < Math.ceil(vacations.length / itemsPerPage)) {\n//             setCurrentPage(currentPage + 1);\n//         }\n//     };\n\n//     const prevPage = () => {\n//         if (currentPage > 1) {\n//             setCurrentPage(currentPage - 1);\n//         }\n//     };\n\n//     return (\n//         <div className=\"VacationList\">\n//             <div className=\"vacation-cards-container\">\n//                 {currentVacations.map(vacation => (\n//                     <VacationCards\n//                         key={vacation.id}\n//                         vacation={vacation}\n//                         onToggleLike={() => { }}\n//                     />\n//                 ))}\n//             </div>\n\n//             <div className=\"pagination\">\n//                 <button onClick={prevPage} disabled={currentPage === 1}>Previous</button>\n//                 <span>Page {currentPage}</span>\n//                 <button onClick={nextPage} disabled={currentPage === Math.ceil(vacations.length / itemsPerPage)}>Next</button>\n//             </div>\n//         </div>\n//     );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/USER/Downloads/02092024ProjectVacation/Frontend/src/Components/VacationArea/VacationList/VacationList.tsx"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\n// import { useDispatch } from \"react-redux\";\n// import { VacationModel } from \"../../../Models/VacationModel\";\n// import { vacationActions } from \"../../../Redux/store\";\n// import { vacationsService } from \"../../../Services/VacationsService\";\n// import { VacationCards } from \"../VacationCards/VacationCards\";\n// import \"./VacationList.css\";\n// import axios from \"axios\";\n\n// export function VacationList(): JSX.Element {\n//     const [vacations, setVacations] = useState<VacationModel[]>([]);\n//     const [currentPage, setCurrentPage] = useState<number>(1);\n//     const [itemsPerPage] = useState<number>(9);\n//     const dispatch = useDispatch();\n\n//     // Set token in the header for all axios requests\n//     useEffect(() => {\n//         const token = localStorage.getItem(\"token\"); // Get the token from local storage\n//         if (token) {\n//             axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`; // Set token in the headers\n//         }\n\n//         // Fetch vacations only if the token exists\n//         if (token) {\n//             vacationsService.getAllVacations()\n//                 .then(vacations => {\n//                     setVacations(vacations);\n//                     const action = vacationActions.initVacations(vacations);\n//                     dispatch(action);\n//                 })\n//                 .catch(err => alert(err.message));\n//         } else {\n//             alert(\"You are not logged in.\"); // Notify the user that they are not logged in\n//         }\n//     }, [dispatch]);\n\n//     const indexOfLastItem = currentPage * itemsPerPage;\n//     const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n//     const currentVacations = vacations.slice(indexOfFirstItem, indexOfLastItem);\n\n//     const nextPage = () => {\n//         if (currentPage < Math.ceil(vacations.length / itemsPerPage)) {\n//             setCurrentPage(currentPage + 1);\n//         }\n//     };\n\n//     const prevPage = () => {\n//         if (currentPage > 1) {\n//             setCurrentPage(currentPage - 1);\n//         }\n//     };\n\n//     return (\n//         <div className=\"VacationList\">\n//             <div className=\"vacation-cards-container\">\n//                 {currentVacations.map(vacation => (\n//                     <VacationCards\n//                         key={vacation.id}\n//                         vacation={vacation}\n//                         onToggleLike={() => { }}\n//                     />\n//                 ))}\n//             </div>\n\n//             <div className=\"pagination\">\n//                 <button onClick={prevPage} disabled={currentPage === 1}>Previous</button>\n//                 <span>Page {currentPage}</span>\n//                 <button onClick={nextPage} disabled={currentPage === Math.ceil(vacations.length / itemsPerPage)}>Next</button>\n//             </div>\n//         </div>\n//     );\n// }\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}